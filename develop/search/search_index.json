{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Open Data Manager Documentation","text":"<p>This documentation contains information how to use ODM system.</p>"},{"location":"odm-templates/create-or-update-template/","title":"How to load custom templates","text":"<p>This article describes how to load templates from a local computer into ODM.</p> <p>Loaded templates are available to all users on the instance.</p>"},{"location":"odm-templates/create-or-update-template/#requirements","title":"Requirements","text":"<ul> <li>Python 3</li> <li>pip</li> <li>The user should have the \"Set up templates\" permission and API token. See Getting a Genestack API token</li> <li>Genestack Python client installed. See how to setup Genestack python client</li> <li>Auxiliary scripts installed. See how to install Genestack auxiliary scripts</li> <li>A template settings json file, e.g.: default_ODM_template_settings.json</li> <li>A template json file, e.g.: Default_ODM_Template.json</li> </ul>"},{"location":"odm-templates/create-or-update-template/#instructions","title":"Instructions","text":"<ol> <li>Download or create a template json file (see Requirements). Templates are collections of fields with rules determining whether the field is required, which dictionary to use (if any) etc.    <pre><code>[\n    {\n     \"dataType\":\"genestack:sampleObject\",\n     \"name\":\"Organism\",\n     \"metainfoType\":\"com.genestack.api.metainfo.StringValue\",\n     \"dictionaryName\":\"NCBI Taxonomy\",\n     \"isRequired\":true,\n     \"isReadOnly\":false,\n     \"description\": \"Key description, text of 500 characters\"\n    }\n]\n</code></pre></li> <li>Download the template settings json file (see Requirements)</li> <li>Use a text editor to edit the template settings file and change the path to match where you have put your template json file</li> </ol> <p><code>\"template_path\": \"/PATHTOTEMPLATEFILE/Default_ODM_Template.json\",</code></p> <ol> <li>Run the <code>odm-update-template</code> script:    <pre><code>odm-update-template -H GENESTACK_ENDPOINT_ADDR /PATHTOSETTINGSFILE/default_ODM_template_settings.json\n</code></pre>    Where <code>GENESTACK_ENDPOINT_ADDR</code> is the URL of the Genestack platform.</li> </ol>"},{"location":"odm-templates/create-or-update-template/#template_settingsjson","title":"Template_settings.json","text":"<p>This file controls certain parameters of the template file:</p> <pre><code>{\n    \"template_path\": \"Default_ODM_Template.json\", //template path/file name\n    \"template_name\": \"Default Template\", //name of the template\n    \"replace\": true,  //if true, will replace previous template that has the same name\n    \"mark_default\": false //mark this template as the new default template for the organisation\n}\n</code></pre>"},{"location":"odm-templates/create-or-update-template/#how-to-create-a-new-template-using-template_schemajson","title":"How to create a new template using template_schema.json","text":"<p>The template json file is validated in ODM against an internal schema: template_schema.json</p> <ol> <li>A single template file contains the properties (keys) for the metadata of study, sample and expression objects together.</li> <li>For each object type (study, samples, libraries and so on) a specific dataType should be used:</li> </ol> <p>Study: <code>dataType = \"study\"</code></p> <p>Samples: <code>dataType = \"genestack:sampleObject\"</code></p> <p>Expression (both Transcriptomics and Proteomics): <code>dataType = \"genestack:transcriptomicsParent\"</code></p> <ol> <li>The <code>Accession</code> property is mandatory for each type of object. The following values should be set for each dataType section:</li> </ol> <pre><code>name = \"genestack:accession\",\nmetainfoType = \"com.genestack.api.metainfo.StringValue\",\nisRequired = true,\nisReadOnly = true\n</code></pre> <p>It is recommended to include properties having <code>isRequired = true</code> into the template file. Please also check out    the <code>description</code> property attribute: some properties might be required for certain functionality.</p> <ol> <li>The values accepted for each metadata attribute are given by the <code>metainfoType</code> key, and must be one of the following values:</li> </ol> <pre><code>\"com.genestack.api.metainfo.IntegerValue\",\n\"com.genestack.api.metainfo.DecimalValue\",\n\"com.genestack.api.metainfo.StringValue\",\n\"com.genestack.api.metainfo.BooleanValue\",\n\"com.genestack.api.metainfo.DateTimeValue\",\n\"com.genestack.api.metainfo.ExternalLink\"\n</code></pre> <ul> <li>for values like FLOAT use <code>\"com.genestack.api.metainfo.DecimalValue\"</code>;</li> <li>for values of type INT use <code>\"com.genestack.api.metainfo.IntegerValue\"</code>;</li> <li>for values of type DATE or TIME use <code>\"com.genestack.api.metainfo.DateTimeValue\"</code>.</li> </ul> <p>Please note that no value bounds can be set up currently.</p> <ol> <li>Dictionaries (controlled vocabularies which validate against lists of terms) can be specified for a metadata attribute using the <code>dictionaryName</code> key.    See loading new ontology.</li> <li>For full details refer to the template_schema.json file.</li> <li>The order of the attributes in the template json file is preserved in the template in ODM.</li> </ol>"},{"location":"odm-templates/delete-template/","title":"Delete template","text":"<p>This article describes how to delete templates in ODM.</p>"},{"location":"odm-templates/delete-template/#requirements","title":"Requirements","text":"<ul> <li>Python 3</li> <li>pip</li> <li>Genestack Python client installed. See how to setup Genestack python client</li> <li>Auxiliary scripts installed. See how to install Genestack auxiliary scripts</li> </ul> <p>Warning</p> <ol> <li>Currently the Default template CAN be deleted, which may cause issues, so please be careful.</li> <li>Only users with the \u201cManage organization\u201d permission can delete templates.</li> <li>The script doesn\u2019t check that the file with the provided accession actually exists so if nothing is deleted but the script runs correctly it will still output 'Success'.</li> <li>The script doesn\u2019t check the type of the file so if a study\u2019s accession is provided instead of a template\u2019s accession the study will be deleted. However, for deletion of studies please use the script from how to delete a study</li> </ol>"},{"location":"odm-templates/delete-template/#instructions","title":"Instructions","text":"<ol> <li>Before a template deletion all the studies which have this template set should be manually changed: another template which is not going to be deleted should be applied (for example, Default template). Apply template manually via the UI.</li> <li>Run delete template script and follow its login instructions, replacing the host name with the name of the instance the script will apply to. The script will print \u201cSuccess\u201d or an error stacktrace in case of an error.    <pre><code>odm-delete-template --accession GSF244345 -H GENESTACK_ENDPOINT_ADDR\n</code></pre>    Where <code>GENESTACK_ENDPOINT_ADDR</code> is the URL of the Genestack platform.</li> </ol>"},{"location":"packages-to-install/genestack-auxiliary-scripts/","title":"Genestack auxiliary scripts","text":""},{"location":"packages-to-install/genestack-auxiliary-scripts/#how-to-set-up-genestack-auxiliary-scripts","title":"How to set up Genestack auxiliary scripts","text":"<p>These scripts provide various auxiliary functions to simplify the work with Omics Data Manager.</p>"},{"location":"packages-to-install/genestack-auxiliary-scripts/#requirements","title":"Requirements","text":"<ul> <li>Python 3</li> <li>pip</li> </ul>"},{"location":"packages-to-install/genestack-auxiliary-scripts/#instructions","title":"Instructions","text":""},{"location":"packages-to-install/genestack-auxiliary-scripts/#start-a-consoleterminal-and-install-genestack-auxiliary-scripts","title":"Start a console/terminal and install Genestack Auxiliary scripts:","text":"<pre><code># Install the latest version\npython3 -m pip install \\\n      --extra-index-url https://public-nexus.devops.gs.team/repository/pypi-releases/simple \\\n      genestack-auxiliary-scripts\n\n# OR: Install a specific version starting from 1.53.12, usually the same as ODM version, e.g. 1.54.0\npython3 -m pip install \\\n      --extra-index-url https://public-nexus.devops.gs.team/repository/pypi-releases/simple \\\n      genestack-auxiliary-scripts==1.53.12\n</code></pre>"},{"location":"packages-to-install/genestack-auxiliary-scripts/#to-check-the-existing-version-and-view-all-available-console-commands-type","title":"To check the existing version, and view all available console commands, type:","text":"<pre><code>python3 -m pip show --verbose genestack-auxiliary-scripts\n</code></pre>"},{"location":"packages-to-install/genestack-auxiliary-scripts/#you-can-always-remove-the-package-with-a-help-of-this-command","title":"You can always remove the package with a help of this command:","text":"<pre><code>python3 -m pip uninstall genestack-auxiliary-scripts\n</code></pre>"},{"location":"packages-to-install/genestack-python-client/","title":"Genestack python client","text":""},{"location":"packages-to-install/genestack-python-client/#how-to-set-up-the-genestack-python-client","title":"How to set up the Genestack Python client","text":"<p>This article explains how to set up the Genestack Python client with a user and token, which then can be used by other scripts.</p>"},{"location":"packages-to-install/genestack-python-client/#requirements","title":"Requirements","text":"<ul> <li>Python 3</li> <li>pip</li> </ul>"},{"location":"packages-to-install/genestack-python-client/#instructions","title":"Instructions","text":""},{"location":"packages-to-install/genestack-python-client/#install-the-client-and-bind-a-user","title":"Install the client and bind a user","text":"<ol> <li> <p>Start a console/terminal and install Genestack Python client: <pre><code># Install the latest version\npython3 -m pip install \\\n      --extra-index-url https://public-nexus.devops.gs.team/repository/pypi-releases/simple \\\n      genestack-client\n\n# OR: Install a specific version starting from 1.53.12, usually the same as ODM version, e.g. 1.54.0\npython3 -m pip install \\\n      --extra-index-url https://public-nexus.devops.gs.team/repository/pypi-releases/simple \\\n      genestack-client==1.53.12\n</code></pre></p> </li> <li> <p>Obtain a token for your Genestack user by logging in to ODM and clicking on the profile link under the username.     See an example for Public user below:</p> </li> </ol> <p></p> <p>You need to click on the \"Create new token\" button, so you will receive an email with a link to your token.     Please open the link in the email and save the token for future needs.</p> <ol> <li> <p>Set up your account with the Genestack Python client from a console    <pre><code>genestack-user-setup -H https://domain_name/frontend\n</code></pre></p> </li> <li> <p>Type \u2018add\u2019 to enter a new user, enter an alias for the user.</p> </li> <li>Enter the host name, which should be of the format: https://domain_name/frontend.</li> <li>Then select authentication method by token (1) and input the content of the token you received in step 2:    <pre><code>1) by token\n2) by email and password\nSelect authentication: 1\nHost: https://domain_name/frontend\nPlease specify Genestack API token for \"my_user\":\n</code></pre></li> <li>Type \u2018quit' to exit the user-setup.</li> </ol>"},{"location":"packages-to-install/genestack-python-client/#to-check-the-existing-version-and-view-all-available-console-commands-type","title":"To check the existing version, and view all available console commands, type:","text":"<pre><code>python3 -m pip show --verbose genestack-client\n</code></pre>"},{"location":"packages-to-install/genestack-python-client/#you-can-always-remove-the-package-with-a-help-of-this-command","title":"You can always remove the package with a help of this command:","text":"<pre><code>python3 -m pip uninstall genestack-client\n</code></pre>"},{"location":"users/user-creation/","title":"Users creation","text":""},{"location":"users/user-creation/#requirements","title":"Requirements","text":"<ul> <li>Python 3</li> <li>pip</li> <li>Genestack Python client installed and setup with a user account/token.   See how to setup Genestack Python client</li> <li>Auxiliary scripts installed.   See how to install Genestack auxiliary scripts</li> <li>A users.tsv file, for example: users.tsv</li> </ul>"},{"location":"users/user-creation/#instructions","title":"Instructions","text":"<ol> <li>Edit users.tsv file in the text editor and replace the example users with your own users - one line per user, detailing email and name, separated by a tab.</li> <li>Run the script below and follow its login instructions, replacing the host name with the address of the instance the script will apply:</li> </ol> <p><code>$ odm-create-users -H localhost:8080</code>\\    or use the -u parameter and the user alias created when setting up the Genestack client</p> <p><code>$ odm-create-users -u your_alias</code></p> <ol> <li>The script will create new users and print out their passwords, for example:</li> </ol> <pre><code>  alice@alphacorp.com    uNgp4F6C    Alice\n  bob@alphacorp.com      xI3AOf2h    Bob\n</code></pre>"}]}